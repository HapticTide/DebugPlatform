var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=d;function d(l,p){for(var h=new Array(arguments.length-1),a=0,s=2,e=!0;s<arguments.length;)h[a++]=arguments[s++];return new Promise(function(r,i){h[a]=function(n){if(e)if(e=!1,n)i(n);else{for(var u=new Array(arguments.length-1),o=0;o<u.length;)u[o++]=arguments[o];r.apply(null,u)}};try{l.apply(p||null,h)}catch(f){e&&(e=!1,i(f))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(d){var l=d;l.length=function(t){var r=t.length;if(!r)return 0;for(var i=0;--r%4>1&&t.charAt(r)==="=";)++i;return Math.ceil(t.length*3)/4-i};for(var p=new Array(64),h=new Array(123),a=0;a<64;)h[p[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;l.encode=function(t,r,i){for(var f=null,n=[],u=0,o=0,c;r<i;){var y=t[r++];switch(o){case 0:n[u++]=p[y>>2],c=(y&3)<<4,o=1;break;case 1:n[u++]=p[c|y>>4],c=(y&15)<<2,o=2;break;case 2:n[u++]=p[c|y>>6],n[u++]=p[y&63],o=0;break}u>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,n)),u=0)}return o&&(n[u++]=p[c],n[u++]=61,o===1&&(n[u++]=61)),f?(u&&f.push(String.fromCharCode.apply(String,n.slice(0,u))),f.join("")):String.fromCharCode.apply(String,n.slice(0,u))};var s="invalid encoding";l.decode=function(t,r,i){for(var f=i,n=0,u,o=0;o<t.length;){var c=t.charCodeAt(o++);if(c===61&&n>1)break;if((c=h[c])===void 0)throw Error(s);switch(n){case 0:u=c,n=1;break;case 1:r[i++]=u<<2|(c&48)>>4,u=c,n=2;break;case 2:r[i++]=(u&15)<<4|(c&60)>>2,u=c,n=3;break;case 3:r[i++]=(u&3)<<6|c,n=0;break}}if(n===1)throw Error(s);return i-f},l.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=d;function d(){this._listeners={}}return d.prototype.on=function(p,h,a){return(this._listeners[p]||(this._listeners[p]=[])).push({fn:h,ctx:a||this}),this},d.prototype.off=function(p,h){if(p===void 0)this._listeners={};else if(h===void 0)this._listeners[p]=[];else for(var a=this._listeners[p],s=0;s<a.length;)a[s].fn===h?a.splice(s,1):++s;return this},d.prototype.emit=function(p){var h=this._listeners[p];if(h){for(var a=[],s=1;s<arguments.length;)a.push(arguments[s++]);for(s=0;s<h.length;)h[s].fn.apply(h[s++].ctx,a)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=d(d);function d(s){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(o,c,y){e[0]=o,c[y]=t[0],c[y+1]=t[1],c[y+2]=t[2],c[y+3]=t[3]}function f(o,c,y){e[0]=o,c[y]=t[3],c[y+1]=t[2],c[y+2]=t[1],c[y+3]=t[0]}s.writeFloatLE=r?i:f,s.writeFloatBE=r?f:i;function n(o,c){return t[0]=o[c],t[1]=o[c+1],t[2]=o[c+2],t[3]=o[c+3],e[0]}function u(o,c){return t[3]=o[c],t[2]=o[c+1],t[1]=o[c+2],t[0]=o[c+3],e[0]}s.readFloatLE=r?n:u,s.readFloatBE=r?u:n})():(function(){function e(r,i,f,n){var u=i<0?1:0;if(u&&(i=-i),i===0)r(1/i>0?0:2147483648,f,n);else if(isNaN(i))r(2143289344,f,n);else if(i>34028234663852886e22)r((u<<31|2139095040)>>>0,f,n);else if(i<11754943508222875e-54)r((u<<31|Math.round(i/1401298464324817e-60))>>>0,f,n);else{var o=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-o)*8388608)&8388607;r((u<<31|o+127<<23|c)>>>0,f,n)}}s.writeFloatLE=e.bind(null,l),s.writeFloatBE=e.bind(null,p);function t(r,i,f){var n=r(i,f),u=(n>>31)*2+1,o=n>>>23&255,c=n&8388607;return o===255?c?NaN:u*(1/0):o===0?u*1401298464324817e-60*c:u*Math.pow(2,o-150)*(c+8388608)}s.readFloatLE=t.bind(null,h),s.readFloatBE=t.bind(null,a)})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(o,c,y){e[0]=o,c[y]=t[0],c[y+1]=t[1],c[y+2]=t[2],c[y+3]=t[3],c[y+4]=t[4],c[y+5]=t[5],c[y+6]=t[6],c[y+7]=t[7]}function f(o,c,y){e[0]=o,c[y]=t[7],c[y+1]=t[6],c[y+2]=t[5],c[y+3]=t[4],c[y+4]=t[3],c[y+5]=t[2],c[y+6]=t[1],c[y+7]=t[0]}s.writeDoubleLE=r?i:f,s.writeDoubleBE=r?f:i;function n(o,c){return t[0]=o[c],t[1]=o[c+1],t[2]=o[c+2],t[3]=o[c+3],t[4]=o[c+4],t[5]=o[c+5],t[6]=o[c+6],t[7]=o[c+7],e[0]}function u(o,c){return t[7]=o[c],t[6]=o[c+1],t[5]=o[c+2],t[4]=o[c+3],t[3]=o[c+4],t[2]=o[c+5],t[1]=o[c+6],t[0]=o[c+7],e[0]}s.readDoubleLE=r?n:u,s.readDoubleBE=r?u:n})():(function(){function e(r,i,f,n,u,o){var c=n<0?1:0;if(c&&(n=-n),n===0)r(0,u,o+i),r(1/n>0?0:2147483648,u,o+f);else if(isNaN(n))r(0,u,o+i),r(2146959360,u,o+f);else if(n>17976931348623157e292)r(0,u,o+i),r((c<<31|2146435072)>>>0,u,o+f);else{var y;if(n<22250738585072014e-324)y=n/5e-324,r(y>>>0,u,o+i),r((c<<31|y/4294967296)>>>0,u,o+f);else{var O=Math.floor(Math.log(n)/Math.LN2);O===1024&&(O=1023),y=n*Math.pow(2,-O),r(y*4503599627370496>>>0,u,o+i),r((c<<31|O+1023<<20|y*1048576&1048575)>>>0,u,o+f)}}}s.writeDoubleLE=e.bind(null,l,0,4),s.writeDoubleBE=e.bind(null,p,4,0);function t(r,i,f,n,u){var o=r(n,u+i),c=r(n,u+f),y=(c>>31)*2+1,O=c>>>20&2047,v=4294967296*(c&1048575)+o;return O===2047?v?NaN:y*(1/0):O===0?y*5e-324*v:y*Math.pow(2,O-1075)*(v+4503599627370496)}s.readDoubleLE=t.bind(null,h,0,4),s.readDoubleBE=t.bind(null,a,4,0)})(),s}function l(s,e,t){e[t]=s&255,e[t+1]=s>>>8&255,e[t+2]=s>>>16&255,e[t+3]=s>>>24}function p(s,e,t){e[t]=s>>>24,e[t+1]=s>>>16&255,e[t+2]=s>>>8&255,e[t+3]=s&255}function h(s,e){return(s[e]|s[e+1]<<8|s[e+2]<<16|s[e+3]<<24)>>>0}function a(s,e){return(s[e]<<24|s[e+1]<<16|s[e+2]<<8|s[e+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(d){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(d){var l=d;l.length=function(h){for(var a=0,s=0,e=0;e<h.length;++e)s=h.charCodeAt(e),s<128?a+=1:s<2048?a+=2:(s&64512)===55296&&(h.charCodeAt(e+1)&64512)===56320?(++e,a+=4):a+=3;return a},l.read=function(h,a,s){var e=s-a;if(e<1)return"";for(var t=null,r=[],i=0,f;a<s;)f=h[a++],f<128?r[i++]=f:f>191&&f<224?r[i++]=(f&31)<<6|h[a++]&63:f>239&&f<365?(f=((f&7)<<18|(h[a++]&63)<<12|(h[a++]&63)<<6|h[a++]&63)-65536,r[i++]=55296+(f>>10),r[i++]=56320+(f&1023)):r[i++]=(f&15)<<12|(h[a++]&63)<<6|h[a++]&63,i>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,r)),i=0);return t?(i&&t.push(String.fromCharCode.apply(String,r.slice(0,i))),t.join("")):String.fromCharCode.apply(String,r.slice(0,i))},l.write=function(h,a,s){for(var e=s,t,r,i=0;i<h.length;++i)t=h.charCodeAt(i),t<128?a[s++]=t:t<2048?(a[s++]=t>>6|192,a[s++]=t&63|128):(t&64512)===55296&&((r=h.charCodeAt(i+1))&64512)===56320?(t=65536+((t&1023)<<10)+(r&1023),++i,a[s++]=t>>18|240,a[s++]=t>>12&63|128,a[s++]=t>>6&63|128,a[s++]=t&63|128):(a[s++]=t>>12|224,a[s++]=t>>6&63|128,a[s++]=t&63|128);return s-e}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=d;function d(l,p,h){var a=h||8192,s=a>>>1,e=null,t=a;return function(i){if(i<1||i>s)return l(i);t+i>a&&(e=l(a),t=0);var f=p.call(e,t,t+=i);return t&7&&(t=(t|7)+1),f}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=l;var d=requireMinimal();function l(s,e){this.lo=s>>>0,this.hi=e>>>0}var p=l.zero=new l(0,0);p.toNumber=function(){return 0},p.zzEncode=p.zzDecode=function(){return this},p.length=function(){return 1};var h=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(e){if(e===0)return p;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new l(r,i)},l.from=function(e){if(typeof e=="number")return l.fromNumber(e);if(d.isString(e))if(d.Long)e=d.Long.fromString(e);else return l.fromNumber(parseInt(e,10));return e.low||e.high?new l(e.low>>>0,e.high>>>0):p},l.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296},l.prototype.toLong=function(e){return d.Long?new d.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var a=String.prototype.charCodeAt;return l.fromHash=function(e){return e===h?p:new l((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},l.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},l.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,(function(d){var l=d;l.asPromise=requireAspromise(),l.base64=requireBase64(),l.EventEmitter=requireEventemitter(),l.float=requireFloat(),l.inquire=requireInquire(),l.utf8=requireUtf8(),l.pool=requirePool(),l.LongBits=requireLongbits(),l.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),l.global=l.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,l.emptyArray=Object.freeze?Object.freeze([]):[],l.emptyObject=Object.freeze?Object.freeze({}):{},l.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},l.isString=function(s){return typeof s=="string"||s instanceof String},l.isObject=function(s){return s&&typeof s=="object"},l.isset=l.isSet=function(s,e){var t=s[e];return t!=null&&s.hasOwnProperty(e)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1},l.Buffer=(function(){try{var a=l.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}})(),l._Buffer_from=null,l._Buffer_allocUnsafe=null,l.newBuffer=function(s){return typeof s=="number"?l.Buffer?l._Buffer_allocUnsafe(s):new l.Array(s):l.Buffer?l._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},l.Array=typeof Uint8Array<"u"?Uint8Array:Array,l.Long=l.global.dcodeIO&&l.global.dcodeIO.Long||l.global.Long||l.inquire("long"),l.key2Re=/^true|false|0|1$/,l.key32Re=/^-?(?:0|[1-9][0-9]*)$/,l.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,l.longToHash=function(s){return s?l.LongBits.from(s).toHash():l.LongBits.zeroHash},l.longFromHash=function(s,e){var t=l.LongBits.fromHash(s);return l.Long?l.Long.fromBits(t.lo,t.hi,e):t.toNumber(!!e)};function p(a,s,e){for(var t=Object.keys(s),r=0;r<t.length;++r)(a[t[r]]===void 0||!e)&&(a[t[r]]=s[t[r]]);return a}l.merge=p,l.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)};function h(a){function s(e,t){if(!(this instanceof s))return new s(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&p(this,t)}return s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),s}l.newError=h,l.ProtocolError=h("ProtocolError"),l.oneOfGetter=function(s){for(var e={},t=0;t<s.length;++t)e[s[t]]=1;return function(){for(var r=Object.keys(this),i=r.length-1;i>-1;--i)if(e[r[i]]===1&&this[r[i]]!==void 0&&this[r[i]]!==null)return r[i]}},l.oneOfSetter=function(s){return function(e){for(var t=0;t<s.length;++t)s[t]!==e&&delete this[s[t]]}},l.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},l._configure=function(){var a=l.Buffer;if(!a){l._Buffer_from=l._Buffer_allocUnsafe=null;return}l._Buffer_from=a.from!==Uint8Array.from&&a.from||function(e,t){return new a(e,t)},l._Buffer_allocUnsafe=a.allocUnsafe||function(e){return new a(e)}}})(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=r;var d=requireMinimal(),l,p=d.LongBits,h=d.base64,a=d.utf8;function s(O,v,m){this.fn=O,this.len=v,this.next=void 0,this.val=m}function e(){}function t(O){this.head=O.head,this.tail=O.tail,this.len=O.len,this.next=O.states}function r(){this.len=0,this.head=new s(e,0,0),this.tail=this.head,this.states=null}var i=function(){return d.Buffer?function(){return(r.create=function(){return new l})()}:function(){return new r}};r.create=i(),r.alloc=function(v){return new d.Array(v)},d.Array!==Array&&(r.alloc=d.pool(r.alloc,d.Array.prototype.subarray)),r.prototype._push=function(v,m,_){return this.tail=this.tail.next=new s(v,m,_),this.len+=m,this};function f(O,v,m){v[m]=O&255}function n(O,v,m){for(;O>127;)v[m++]=O&127|128,O>>>=7;v[m]=O}function u(O,v){this.len=O,this.next=void 0,this.val=v}u.prototype=Object.create(s.prototype),u.prototype.fn=n,r.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new u((v=v>>>0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},r.prototype.int32=function(v){return v<0?this._push(o,10,p.fromNumber(v)):this.uint32(v)},r.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)};function o(O,v,m){for(;O.hi;)v[m++]=O.lo&127|128,O.lo=(O.lo>>>7|O.hi<<25)>>>0,O.hi>>>=7;for(;O.lo>127;)v[m++]=O.lo&127|128,O.lo=O.lo>>>7;v[m++]=O.lo}r.prototype.uint64=function(v){var m=p.from(v);return this._push(o,m.length(),m)},r.prototype.int64=r.prototype.uint64,r.prototype.sint64=function(v){var m=p.from(v).zzEncode();return this._push(o,m.length(),m)},r.prototype.bool=function(v){return this._push(f,1,v?1:0)};function c(O,v,m){v[m]=O&255,v[m+1]=O>>>8&255,v[m+2]=O>>>16&255,v[m+3]=O>>>24}r.prototype.fixed32=function(v){return this._push(c,4,v>>>0)},r.prototype.sfixed32=r.prototype.fixed32,r.prototype.fixed64=function(v){var m=p.from(v);return this._push(c,4,m.lo)._push(c,4,m.hi)},r.prototype.sfixed64=r.prototype.fixed64,r.prototype.float=function(v){return this._push(d.float.writeFloatLE,4,v)},r.prototype.double=function(v){return this._push(d.float.writeDoubleLE,8,v)};var y=d.Array.prototype.set?function(v,m,_){m.set(v,_)}:function(v,m,_){for(var q=0;q<v.length;++q)m[_+q]=v[q]};return r.prototype.bytes=function(v){var m=v.length>>>0;if(!m)return this._push(f,1,0);if(d.isString(v)){var _=r.alloc(m=h.length(v));h.decode(v,_,0),v=_}return this.uint32(m)._push(y,m,v)},r.prototype.string=function(v){var m=a.length(v);return m?this.uint32(m)._push(a.write,m,v):this._push(f,1,0)},r.prototype.fork=function(){return this.states=new t(this),this.head=this.tail=new s(e,0,0),this.len=0,this},r.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(e,0,0),this.len=0),this},r.prototype.ldelim=function(){var v=this.head,m=this.tail,_=this.len;return this.reset().uint32(_),_&&(this.tail.next=v.next,this.tail=m,this.len+=_),this},r.prototype.finish=function(){for(var v=this.head.next,m=this.constructor.alloc(this.len),_=0;v;)v.fn(v.val,m,_),_+=v.len,v=v.next;return m},r._configure=function(O){l=O,r.create=i(),l._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=p;var d=requireWriter();(p.prototype=Object.create(d.prototype)).constructor=p;var l=requireMinimal();function p(){d.call(this)}p._configure=function(){p.alloc=l._Buffer_allocUnsafe,p.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(s,e,t){e.set(s,t)}:function(s,e,t){if(s.copy)s.copy(e,t,0,s.length);else for(var r=0;r<s.length;)e[t++]=s[r++]}},p.prototype.bytes=function(s){l.isString(s)&&(s=l._Buffer_from(s,"base64"));var e=s.length>>>0;return this.uint32(e),e&&this._push(p.writeBytesBuffer,e,s),this};function h(a,s,e){a.length<40?l.utf8.write(a,s,e):s.utf8Write?s.utf8Write(a,e):s.write(a,e)}return p.prototype.string=function(s){var e=l.Buffer.byteLength(s);return this.uint32(e),e&&this._push(h,e,s),this},p._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=s;var d=requireMinimal(),l,p=d.LongBits,h=d.utf8;function a(n,u){return RangeError("index out of range: "+n.pos+" + "+(u||1)+" > "+n.len)}function s(n){this.buf=n,this.pos=0,this.len=n.length}var e=typeof Uint8Array<"u"?function(u){if(u instanceof Uint8Array||Array.isArray(u))return new s(u);throw Error("illegal buffer")}:function(u){if(Array.isArray(u))return new s(u);throw Error("illegal buffer")},t=function(){return d.Buffer?function(o){return(s.create=function(y){return d.Buffer.isBuffer(y)?new l(y):e(y)})(o)}:e};s.create=t(),s.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,s.prototype.uint32=(function(){var u=4294967295;return function(){if(u=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(u=(u|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}})(),s.prototype.int32=function(){return this.uint32()|0},s.prototype.sint32=function(){var u=this.uint32();return u>>>1^-(u&1)|0};function r(){var n=new p(0,0),u=0;if(this.len-this.pos>4){for(;u<4;++u)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<u*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;u=0}else{for(;u<3;++u){if(this.pos>=this.len)throw a(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<u*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<u*7)>>>0,n}if(this.len-this.pos>4){for(;u<5;++u)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<u*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;u<5;++u){if(this.pos>=this.len)throw a(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<u*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}s.prototype.bool=function(){return this.uint32()!==0};function i(n,u){return(n[u-4]|n[u-3]<<8|n[u-2]<<16|n[u-1]<<24)>>>0}s.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return i(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return i(this.buf,this.pos+=4)|0};function f(){if(this.pos+8>this.len)throw a(this,8);return new p(i(this.buf,this.pos+=4),i(this.buf,this.pos+=4))}return s.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var u=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,u},s.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var u=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,u},s.prototype.bytes=function(){var u=this.uint32(),o=this.pos,c=this.pos+u;if(c>this.len)throw a(this,u);if(this.pos+=u,Array.isArray(this.buf))return this.buf.slice(o,c);if(o===c){var y=d.Buffer;return y?y.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,o,c)},s.prototype.string=function(){var u=this.bytes();return h.read(u,0,u.length)},s.prototype.skip=function(u){if(typeof u=="number"){if(this.pos+u>this.len)throw a(this,u);this.pos+=u}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},s.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this},s._configure=function(n){l=n,s.create=t(),l._configure();var u=d.Long?"toLong":"toNumber";d.merge(s.prototype,{int64:function(){return r.call(this)[u](!1)},uint64:function(){return r.call(this)[u](!0)},sint64:function(){return r.call(this).zzDecode()[u](!1)},fixed64:function(){return f.call(this)[u](!0)},sfixed64:function(){return f.call(this)[u](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=p;var d=requireReader();(p.prototype=Object.create(d.prototype)).constructor=p;var l=requireMinimal();function p(h){d.call(this,h)}return p._configure=function(){l.Buffer&&(p.prototype._slice=l.Buffer.prototype.slice)},p.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},p._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=l;var d=requireMinimal();(l.prototype=Object.create(d.EventEmitter.prototype)).constructor=l;function l(p,h,a){if(typeof p!="function")throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=p,this.requestDelimited=!!h,this.responseDelimited=!!a}return l.prototype.rpcCall=function p(h,a,s,e,t){if(!e)throw TypeError("request must be specified");var r=this;if(!t)return d.asPromise(p,r,h,a,s,e);if(!r.rpcImpl){setTimeout(function(){t(Error("already ended"))},0);return}try{return r.rpcImpl(h,a[r.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(f,n){if(f)return r.emit("error",f,h),t(f);if(n===null){r.end(!0);return}if(!(n instanceof s))try{n=s[r.responseDelimited?"decodeDelimited":"decode"](n)}catch(u){return r.emit("error",u,h),t(u)}return r.emit("data",n,h),t(null,n)})}catch(i){r.emit("error",i,h),setTimeout(function(){t(i)},0);return}},l.prototype.end=function(h){return this.rpcImpl&&(h||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(d){var l=d;l.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(d){var l=d;l.build="minimal",l.Writer=requireWriter(),l.BufferWriter=requireWriter_buffer(),l.Reader=requireReader(),l.BufferReader=requireReader_buffer(),l.util=requireMinimal(),l.rpc=requireRpc(),l.roots=requireRoots(),l.configure=p;function p(){l.util._configure(),l.Writer._configure(l.BufferWriter),l.Reader._configure(l.BufferReader)}p()})(indexMinimal)),indexMinimal}var types={},util={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=d;function d(l,p){typeof l=="string"&&(p=l,l=void 0);var h=[];function a(e){if(typeof e!="string"){var t=s();if(d.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var r=Object.keys(e),i=new Array(r.length+1),f=new Array(r.length),n=0;n<r.length;)i[n]=r[n],f[n]=e[r[n++]];return i[n]=t,Function.apply(null,i).apply(null,f)}return Function(t)()}for(var u=new Array(arguments.length-1),o=0;o<u.length;)u[o]=arguments[++o];if(o=0,e=e.replace(/%([%dfijs])/g,function(y,O){var v=u[o++];switch(O){case"d":case"f":return String(Number(v));case"i":return String(Math.floor(v));case"j":return JSON.stringify(v);case"s":return String(v)}return"%"}),o!==u.length)throw Error("parameter count mismatch");return h.push(e),a}function s(e){return"function "+(e||p||"")+"("+(l&&l.join(",")||"")+`){
  `+h.join(`
  `)+`
}`}return a.toString=s,a}return d.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=h;var d=requireAspromise(),l=requireInquire(),p=l("fs");function h(a,s,e){return typeof s=="function"?(e=s,s={}):s||(s={}),e?!s.xhr&&p&&p.readFile?p.readFile(a,function(r,i){return r&&typeof XMLHttpRequest<"u"?h.xhr(a,s,e):r?e(r):e(null,s.binary?i:i.toString("utf8"))}):h.xhr(a,s,e):d(h,this,a,s)}return h.xhr=function(s,e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===4){if(r.status!==0&&r.status!==200)return t(Error("status "+r.status));if(e.binary){var f=r.response;if(!f){f=[];for(var n=0;n<r.responseText.length;++n)f.push(r.responseText.charCodeAt(n)&255)}return t(null,typeof Uint8Array<"u"?new Uint8Array(f):f)}return t(null,r.responseText)}},e.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",s),r.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,(function(d){var l=d,p=l.isAbsolute=function(s){return/^(?:\/|\w+:)/.test(s)},h=l.normalize=function(s){s=s.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var e=s.split("/"),t=p(s),r="";t&&(r=e.shift()+"/");for(var i=0;i<e.length;)e[i]===".."?i>0&&e[i-1]!==".."?e.splice(--i,2):t?e.splice(i,1):++i:e[i]==="."?e.splice(i,1):++i;return r+e.join("/")};l.resolve=function(s,e,t){return t||(e=h(e)),p(e)?e:(t||(s=h(s)),(s=s.replace(/(?:\/|^)[^/]+$/,"")).length?h(s+"/"+e):e)}})(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=r;var d=requireObject();((r.prototype=Object.create(d.prototype)).constructor=r).className="Namespace";var l=requireField(),p=requireUtil(),h=requireOneof(),a,s,e;r.fromJSON=function(n,u){return new r(n,u.options).addJSON(u.nested)};function t(f,n){if(f&&f.length){for(var u={},o=0;o<f.length;++o)u[f[o].name]=f[o].toJSON(n);return u}}r.arrayToJSON=t,r.isReservedId=function(n,u){if(n){for(var o=0;o<n.length;++o)if(typeof n[o]!="string"&&n[o][0]<=u&&n[o][1]>u)return!0}return!1},r.isReservedName=function(n,u){if(n){for(var o=0;o<n.length;++o)if(n[o]===u)return!0}return!1};function r(f,n){d.call(this,f,n),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function i(f){f._nestedArray=null,f._lookupCache={};for(var n=f;n=n.parent;)n._lookupCache={};return f}return Object.defineProperty(r.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=p.toArray(this.nested))}}),r.prototype.toJSON=function(n){return p.toObject(["options",this.options,"nested",t(this.nestedArray,n)])},r.prototype.addJSON=function(n){var u=this;if(n)for(var o=Object.keys(n),c=0,y;c<o.length;++c)y=n[o[c]],u.add((y.fields!==void 0?a.fromJSON:y.values!==void 0?e.fromJSON:y.methods!==void 0?s.fromJSON:y.id!==void 0?l.fromJSON:r.fromJSON)(o[c],y));return this},r.prototype.get=function(n){return this.nested&&this.nested[n]||null},r.prototype.getEnum=function(n){if(this.nested&&this.nested[n]instanceof e)return this.nested[n].values;throw Error("no such enum: "+n)},r.prototype.add=function(n){if(!(n instanceof l&&n.extend!==void 0||n instanceof a||n instanceof h||n instanceof e||n instanceof s||n instanceof r))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var u=this.get(n.name);if(u)if(u instanceof r&&n instanceof r&&!(u instanceof a||u instanceof s)){for(var o=u.nestedArray,c=0;c<o.length;++c)n.add(o[c]);this.remove(u),this.nested||(this.nested={}),n.setOptions(u.options,!0)}else throw Error("duplicate name '"+n.name+"' in "+this)}this.nested[n.name]=n,this instanceof a||this instanceof s||this instanceof e||this instanceof l||n._edition||(n._edition=n._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var y=this;y=y.parent;)y._needsRecursiveFeatureResolution=!0,y._needsRecursiveResolve=!0;return n.onAdd(this),i(this)},r.prototype.remove=function(n){if(!(n instanceof d))throw TypeError("object must be a ReflectionObject");if(n.parent!==this)throw Error(n+" is not a member of "+this);return delete this.nested[n.name],Object.keys(this.nested).length||(this.nested=void 0),n.onRemove(this),i(this)},r.prototype.define=function(n,u){if(p.isString(n))n=n.split(".");else if(!Array.isArray(n))throw TypeError("illegal path");if(n&&n.length&&n[0]==="")throw Error("path must be relative");for(var o=this;n.length>0;){var c=n.shift();if(o.nested&&o.nested[c]){if(o=o.nested[c],!(o instanceof r))throw Error("path conflicts with non-namespace objects")}else o.add(o=new r(c))}return u&&o.addJSON(u),o},r.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var n=this.nestedArray,u=0;for(this.resolve();u<n.length;)n[u]instanceof r?n[u++].resolveAll():n[u++].resolve();return this._needsRecursiveResolve=!1,this},r.prototype._resolveFeaturesRecursive=function(n){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,n=this._edition||n,d.prototype._resolveFeaturesRecursive.call(this,n),this.nestedArray.forEach(u=>{u._resolveFeaturesRecursive(n)}),this):this},r.prototype.lookup=function(n,u,o){if(typeof u=="boolean"?(o=u,u=void 0):u&&!Array.isArray(u)&&(u=[u]),p.isString(n)&&n.length){if(n===".")return this.root;n=n.split(".")}else if(!n.length)return this;var c=n.join(".");if(n[0]==="")return this.root.lookup(n.slice(1),u);var y=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+c];if(y&&(!u||u.indexOf(y.constructor)>-1)||(y=this._lookupImpl(n,c),y&&(!u||u.indexOf(y.constructor)>-1)))return y;if(o)return null;for(var O=this;O.parent;){if(y=O.parent._lookupImpl(n,c),y&&(!u||u.indexOf(y.constructor)>-1))return y;O=O.parent}return null},r.prototype._lookupImpl=function(n,u){if(Object.prototype.hasOwnProperty.call(this._lookupCache,u))return this._lookupCache[u];var o=this.get(n[0]),c=null;if(o)n.length===1?c=o:o instanceof r&&(n=n.slice(1),c=o._lookupImpl(n,n.join(".")));else for(var y=0;y<this.nestedArray.length;++y)this._nestedArray[y]instanceof r&&(o=this._nestedArray[y]._lookupImpl(n,u))&&(c=o);return this._lookupCache[u]=c,c},r.prototype.lookupType=function(n){var u=this.lookup(n,[a]);if(!u)throw Error("no such type: "+n);return u},r.prototype.lookupEnum=function(n){var u=this.lookup(n,[e]);if(!u)throw Error("no such Enum '"+n+"' in "+this);return u},r.prototype.lookupTypeOrEnum=function(n){var u=this.lookup(n,[a,e]);if(!u)throw Error("no such Type or Enum '"+n+"' in "+this);return u},r.prototype.lookupService=function(n){var u=this.lookup(n,[s]);if(!u)throw Error("no such Service '"+n+"' in "+this);return u},r._configure=function(f,n,u){a=f,s=n,e=u},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=h;var d=requireField();((h.prototype=Object.create(d.prototype)).constructor=h).className="MapField";var l=requireTypes(),p=requireUtil();function h(a,s,e,t,r,i){if(d.call(this,a,s,t,void 0,void 0,r,i),!p.isString(e))throw TypeError("keyType must be a string");this.keyType=e,this.resolvedKeyType=null,this.map=!0}return h.fromJSON=function(s,e){return new h(s,e.id,e.keyType,e.type,e.options,e.comment)},h.prototype.toJSON=function(s){var e=s?!!s.keepComments:!1;return p.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},h.prototype.resolve=function(){if(this.resolved)return this;if(l.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},h.d=function(s,e,t){return typeof t=="function"?t=p.decorateType(t).name:t&&typeof t=="object"&&(t=p.decorateEnum(t).name),function(i,f){p.decorateType(i.constructor).add(new h(f,s,e,t))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=p;var d=requireObject();((p.prototype=Object.create(d.prototype)).constructor=p).className="Method";var l=requireUtil();function p(h,a,s,e,t,r,i,f,n){if(l.isObject(t)?(i=t,t=r=void 0):l.isObject(r)&&(i=r,r=void 0),!(a===void 0||l.isString(a)))throw TypeError("type must be a string");if(!l.isString(s))throw TypeError("requestType must be a string");if(!l.isString(e))throw TypeError("responseType must be a string");d.call(this,h,i),this.type=a||"rpc",this.requestType=s,this.requestStream=t?!0:void 0,this.responseType=e,this.responseStream=r?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=n}return p.fromJSON=function(a,s){return new p(a,s.type,s.requestType,s.responseType,s.requestStream,s.responseStream,s.options,s.comment,s.parsedOptions)},p.prototype.toJSON=function(a){var s=a?!!a.keepComments:!1;return l.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0,"parsedOptions",this.parsedOptions])},p.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=a;var d=requireNamespace();((a.prototype=Object.create(d.prototype)).constructor=a).className="Service";var l=requireMethod(),p=requireUtil(),h=requireRpc();function a(e,t){d.call(this,e,t),this.methods={},this._methodsArray=null}a.fromJSON=function(t,r){var i=new a(t,r.options);if(r.methods)for(var f=Object.keys(r.methods),n=0;n<f.length;++n)i.add(l.fromJSON(f[n],r.methods[f[n]]));return r.nested&&i.addJSON(r.nested),r.edition&&(i._edition=r.edition),i.comment=r.comment,i._defaultEdition="proto3",i},a.prototype.toJSON=function(t){var r=d.prototype.toJSON.call(this,t),i=t?!!t.keepComments:!1;return p.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"methods",d.arrayToJSON(this.methodsArray,t)||{},"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=p.toArray(this.methods))}});function s(e){return e._methodsArray=null,e}return a.prototype.get=function(t){return this.methods[t]||d.prototype.get.call(this,t)},a.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolve.call(this);for(var t=this.methodsArray,r=0;r<t.length;++r)t[r].resolve();return this},a.prototype._resolveFeaturesRecursive=function(t){return this._needsRecursiveFeatureResolution?(t=this._edition||t,d.prototype._resolveFeaturesRecursive.call(this,t),this.methodsArray.forEach(r=>{r._resolveFeaturesRecursive(t)}),this):this},a.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof l?(this.methods[t.name]=t,t.parent=this,s(this)):d.prototype.add.call(this,t)},a.prototype.remove=function(t){if(t instanceof l){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,s(this)}return d.prototype.remove.call(this,t)},a.prototype.create=function(t,r,i){for(var f=new h.Service(t,r,i),n=0,u;n<this.methodsArray.length;++n){var o=p.lcFirst((u=this._methodsArray[n]).resolve().name).replace(/[^$\w_]/g,"");f[o]=p.codegen(["r","c"],p.isReserved(o)?o+"_":o)("return this.rpcCall(m,q,s,r,c)")({m:u,q:u.resolvedRequestType.ctor,s:u.resolvedResponseType.ctor})}return f},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=l;var d=requireMinimal();function l(p){if(p)for(var h=Object.keys(p),a=0;a<h.length;++a)this[h[a]]=p[h[a]]}return l.create=function(h){return this.$type.create(h)},l.encode=function(h,a){return this.$type.encode(h,a)},l.encodeDelimited=function(h,a){return this.$type.encodeDelimited(h,a)},l.decode=function(h){return this.$type.decode(h)},l.decodeDelimited=function(h){return this.$type.decodeDelimited(h)},l.verify=function(h){return this.$type.verify(h)},l.fromObject=function(h){return this.$type.fromObject(h)},l.toObject=function(h,a){return this.$type.toObject(h,a)},l.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=a;var d=require_enum(),l=requireTypes(),p=requireUtil();function h(s){return"missing required '"+s.name+"'"}function a(s){for(var e=p.codegen(["r","l","e"],s.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(s.fieldsArray.filter(function(u){return u.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<s.fieldsArray.length;++t){var r=s._fieldsArray[t].resolve(),i=r.resolvedType instanceof d?"int32":r.type,f="m"+p.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",f)("%s={}",f)("var c2 = r.uint32()+r.pos"),l.defaults[r.keyType]!==void 0?e("k=%j",l.defaults[r.keyType]):e("k=null"),l.defaults[i]!==void 0?e("value=%j",l.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),l.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),l.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',f):e("%s[k]=value",f)):r.repeated?(e("if(!(%s&&%s.length))",f,f)("%s=[]",f),l.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",f,i)("}else"),l.basic[i]===void 0?e(r.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",f,t):e("%s.push(r.%s())",f,i)):l.basic[i]===void 0?e(r.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",f,t):e("%s=r.%s()",f,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<s._fieldsArray.length;++t){var n=s._fieldsArray[t];n.required&&e("if(!m.hasOwnProperty(%j))",n.name)("throw util.ProtocolError(%j,{instance:m})",h(n))}return e("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=s;var d=require_enum(),l=requireUtil();function p(e,t){return e.name+": "+t+(e.repeated&&t!=="array"?"[]":e.map&&t!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function h(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof d){e("switch(%s){",i)("default:")("return%j",p(t,"enum value"));for(var f=Object.keys(t.resolvedType.values),n=0;n<f.length;++n)e("case %i:",t.resolvedType.values[f[n]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",p(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",p(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",p(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",p(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",p(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",p(t,"buffer"));break}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",p(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",p(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",p(t,"boolean key"));break}return e}function s(e){var t=l.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,i={};r.length&&t("var p={}");for(var f=0;f<e.fieldsArray.length;++f){var n=e._fieldsArray[f].resolve(),u="m"+l.safeProp(n.name);if(n.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,n.name),n.map)t("if(!util.isObject(%s))",u)("return%j",p(n,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),a(t,n,"k[i]"),h(t,n,f,u+"[k[i]]")("}");else if(n.repeated)t("if(!Array.isArray(%s))",u)("return%j",p(n,"array"))("for(var i=0;i<%s.length;++i){",u),h(t,n,f,u+"[i]")("}");else{if(n.partOf){var o=l.safeProp(n.partOf.name);i[n.partOf.name]===1&&t("if(p%s===1)",o)("return%j",n.partOf.name+": multiple values"),i[n.partOf.name]=1,t("p%s=1",o)}h(t,n,f,u)}n.optional&&t("}")}return t("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(d){var l=d,p=require_enum(),h=requireUtil();function a(e,t,r,i){var f=!1;if(t.resolvedType)if(t.resolvedType instanceof p){e("switch(d%s){",i);for(var n=t.resolvedType.values,u=Object.keys(n),o=0;o<u.length;++o)n[u[o]]===t.typeDefault&&!f&&(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),t.repeated||e("break"),f=!0),e("case%j:",u[o])("case %i:",n[u[o]])("m%s=%j",i,n[u[o]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i);break}}return e}l.fromObject=function(t){var r=t.fieldsArray,i=h.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return i("return new this.ctor");i("var m=new this.ctor");for(var f=0;f<r.length;++f){var n=r[f].resolve(),u=h.safeProp(n.name);n.map?(i("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",n.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(i,n,f,u+"[ks[i]]")("}")("}")):n.repeated?(i("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",n.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(i,n,f,u+"[i]")("}")("}")):(n.resolvedType instanceof p||i("if(d%s!=null){",u),a(i,n,f,u),n.resolvedType instanceof p||i("}"))}return i("return m")};function s(e,t,r,i){if(t.resolvedType)t.resolvedType instanceof p?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,r,i,i,r,i,i):e("d%s=types[%i].toObject(m%s,o)",i,r,i);else{var f=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,f?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i);break}}return e}l.toObject=function(t){var r=t.fieldsArray.slice().sort(h.compareFieldsById);if(!r.length)return h.codegen()("return {}");for(var i=h.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),f=[],n=[],u=[],o=0;o<r.length;++o)r[o].partOf||(r[o].resolve().repeated?f:r[o].map?n:u).push(r[o]);if(f.length){for(i("if(o.arrays||o.defaults){"),o=0;o<f.length;++o)i("d%s=[]",h.safeProp(f[o].name));i("}")}if(n.length){for(i("if(o.objects||o.defaults){"),o=0;o<n.length;++o)i("d%s={}",h.safeProp(n[o].name));i("}")}if(u.length){for(i("if(o.defaults){"),o=0;o<u.length;++o){var c=u[o],y=h.safeProp(c.name);if(c.resolvedType instanceof p)i("d%s=o.enums===String?%j:%j",y,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",y)("}else")("d%s=o.longs===String?%j:%i",y,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var O="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";i("if(o.bytes===String)d%s=%j",y,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",y,O)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",y,y)("}")}else i("d%s=%j",y,c.typeDefault)}i("}")}var v=!1;for(o=0;o<r.length;++o){var c=r[o],m=t._fieldsArray.indexOf(c),y=h.safeProp(c.name);c.map?(v||(v=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",y,y)("d%s={}",y)("for(var j=0;j<ks2.length;++j){"),s(i,c,m,y+"[ks2[j]]")("}")):c.repeated?(i("if(m%s&&m%s.length){",y,y)("d%s=[]",y)("for(var j=0;j<m%s.length;++j){",y),s(i,c,m,y+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",y,c.name),s(i,c,m,y),c.partOf&&i("if(o.oneofs)")("d%s=%j",h.safeProp(c.partOf.name),c.name)),i("}")}return i("return d")}})(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,(function(d){var l=d,p=requireMessage();l[".google.protobuf.Any"]={fromObject:function(h){if(h&&h["@type"]){var a=h["@type"].substring(h["@type"].lastIndexOf("/")+1),s=this.lookup(a);if(s){var e=h["@type"].charAt(0)==="."?h["@type"].slice(1):h["@type"];return e.indexOf("/")===-1&&(e="/"+e),this.create({type_url:e,value:s.encode(s.fromObject(h)).finish()})}}return this.fromObject(h)},toObject:function(h,a){var s="type.googleapis.com/",e="",t="";if(a&&a.json&&h.type_url&&h.value){t=h.type_url.substring(h.type_url.lastIndexOf("/")+1),e=h.type_url.substring(0,h.type_url.lastIndexOf("/")+1);var r=this.lookup(t);r&&(h=r.decode(h.value))}if(!(h instanceof this.ctor)&&h instanceof p){var i=h.$type.toObject(h,a),f=h.$type.fullName[0]==="."?h.$type.fullName.slice(1):h.$type.fullName;return e===""&&(e=s),t=e+f,i["@type"]=t,i}return this.toObject(h,a)}}})(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=y;var d=requireNamespace();((y.prototype=Object.create(d.prototype)).constructor=y).className="Type";var l=require_enum(),p=requireOneof(),h=requireField(),a=requireMapfield(),s=requireService(),e=requireMessage(),t=requireReader(),r=requireWriter(),i=requireUtil(),f=requireEncoder(),n=requireDecoder(),u=requireVerifier(),o=requireConverter(),c=requireWrappers();function y(v,m){d.call(this,v,m),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var v=Object.keys(this.fields),m=0;m<v.length;++m){var _=this.fields[v[m]],q=_.id;if(this._fieldsById[q])throw Error("duplicate id "+q+" in "+this);this._fieldsById[q]=_}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=i.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=i.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(v){var m=v.prototype;m instanceof e||((v.prototype=new e).constructor=v,i.merge(v.prototype,m)),v.$type=v.prototype.$type=this,i.merge(v,e,!0),this._ctor=v;for(var _=0;_<this.fieldsArray.length;++_)this._fieldsArray[_].resolve();var q={};for(_=0;_<this.oneofsArray.length;++_)q[this._oneofsArray[_].resolve().name]={get:i.oneOfGetter(this._oneofsArray[_].oneof),set:i.oneOfSetter(this._oneofsArray[_].oneof)};_&&Object.defineProperties(v.prototype,q)}}}),y.generateConstructor=function(m){for(var _=i.codegen(["p"],m.name),q=0,N;q<m.fieldsArray.length;++q)(N=m._fieldsArray[q]).map?_("this%s={}",i.safeProp(N.name)):N.repeated&&_("this%s=[]",i.safeProp(N.name));return _("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function O(v){return v._fieldsById=v._fieldsArray=v._oneofsArray=null,delete v.encode,delete v.decode,delete v.verify,v}return y.fromJSON=function(m,_){var q=new y(m,_.options);q.extensions=_.extensions,q.reserved=_.reserved;for(var N=Object.keys(_.fields),x=0;x<N.length;++x)q.add((typeof _.fields[N[x]].keyType<"u"?a.fromJSON:h.fromJSON)(N[x],_.fields[N[x]]));if(_.oneofs)for(N=Object.keys(_.oneofs),x=0;x<N.length;++x)q.add(p.fromJSON(N[x],_.oneofs[N[x]]));if(_.nested)for(N=Object.keys(_.nested),x=0;x<N.length;++x){var j=_.nested[N[x]];q.add((j.id!==void 0?h.fromJSON:j.fields!==void 0?y.fromJSON:j.values!==void 0?l.fromJSON:j.methods!==void 0?s.fromJSON:d.fromJSON)(N[x],j))}return _.extensions&&_.extensions.length&&(q.extensions=_.extensions),_.reserved&&_.reserved.length&&(q.reserved=_.reserved),_.group&&(q.group=!0),_.comment&&(q.comment=_.comment),_.edition&&(q._edition=_.edition),q._defaultEdition="proto3",q},y.prototype.toJSON=function(m){var _=d.prototype.toJSON.call(this,m),q=m?!!m.keepComments:!1;return i.toObject(["edition",this._editionToJSON(),"options",_&&_.options||void 0,"oneofs",d.arrayToJSON(this.oneofsArray,m),"fields",d.arrayToJSON(this.fieldsArray.filter(function(N){return!N.declaringField}),m)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",_&&_.nested||void 0,"comment",q?this.comment:void 0])},y.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolveAll.call(this);var m=this.oneofsArray;for(q=0;q<m.length;)m[q++].resolve();for(var _=this.fieldsArray,q=0;q<_.length;)_[q++].resolve();return this},y.prototype._resolveFeaturesRecursive=function(m){return this._needsRecursiveFeatureResolution?(m=this._edition||m,d.prototype._resolveFeaturesRecursive.call(this,m),this.oneofsArray.forEach(_=>{_._resolveFeatures(m)}),this.fieldsArray.forEach(_=>{_._resolveFeatures(m)}),this):this},y.prototype.get=function(m){return this.fields[m]||this.oneofs&&this.oneofs[m]||this.nested&&this.nested[m]||null},y.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);if(m instanceof h&&m.extend===void 0){if(this._fieldsById?this._fieldsById[m.id]:this.fieldsById[m.id])throw Error("duplicate id "+m.id+" in "+this);if(this.isReservedId(m.id))throw Error("id "+m.id+" is reserved in "+this);if(this.isReservedName(m.name))throw Error("name '"+m.name+"' is reserved in "+this);return m.parent&&m.parent.remove(m),this.fields[m.name]=m,m.message=this,m.onAdd(this),O(this)}return m instanceof p?(this.oneofs||(this.oneofs={}),this.oneofs[m.name]=m,m.onAdd(this),O(this)):d.prototype.add.call(this,m)},y.prototype.remove=function(m){if(m instanceof h&&m.extend===void 0){if(!this.fields||this.fields[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.fields[m.name],m.parent=null,m.onRemove(this),O(this)}if(m instanceof p){if(!this.oneofs||this.oneofs[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.oneofs[m.name],m.parent=null,m.onRemove(this),O(this)}return d.prototype.remove.call(this,m)},y.prototype.isReservedId=function(m){return d.isReservedId(this.reserved,m)},y.prototype.isReservedName=function(m){return d.isReservedName(this.reserved,m)},y.prototype.create=function(m){return new this.ctor(m)},y.prototype.setup=function(){for(var m=this.fullName,_=[],q=0;q<this.fieldsArray.length;++q)_.push(this._fieldsArray[q].resolve().resolvedType);this.encode=f(this)({Writer:r,types:_,util:i}),this.decode=n(this)({Reader:t,types:_,util:i}),this.verify=u(this)({types:_,util:i}),this.fromObject=o.fromObject(this)({types:_,util:i}),this.toObject=o.toObject(this)({types:_,util:i});var N=c[m];if(N){var x=Object.create(this);x.fromObject=this.fromObject,this.fromObject=N.fromObject.bind(x),x.toObject=this.toObject,this.toObject=N.toObject.bind(x)}return this},y.prototype.encode=function(m,_){return this.setup().encode(m,_)},y.prototype.encodeDelimited=function(m,_){return this.encode(m,_&&_.len?_.fork():_).ldelim()},y.prototype.decode=function(m,_){return this.setup().decode(m,_)},y.prototype.decodeDelimited=function(m){return m instanceof t||(m=t.create(m)),this.decode(m,m.uint32())},y.prototype.verify=function(m){return this.setup().verify(m)},y.prototype.fromObject=function(m){return this.setup().fromObject(m)},y.prototype.toObject=function(m,_){return this.setup().toObject(m,_)},y.d=function(m){return function(q){i.decorateType(q,m)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=r;var d=requireNamespace();((r.prototype=Object.create(d.prototype)).constructor=r).className="Root";var l=requireField(),p=require_enum(),h=requireOneof(),a=requireUtil(),s,e,t;function r(u){d.call(this,"",u),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}r.fromJSON=function(o,c){return c||(c=new r),o.options&&c.setOptions(o.options),c.addJSON(o.nested).resolveAll()},r.prototype.resolvePath=a.path.resolve,r.prototype.fetch=a.fetch;function i(){}r.prototype.load=function u(o,c,y){typeof c=="function"&&(y=c,c=void 0);var O=this;if(!y)return a.asPromise(u,O,o,c);var v=y===i;function m(B,D){if(y){if(v)throw B;D&&D.resolveAll();var A=y;y=null,A(B,D)}}function _(B){var D=B.lastIndexOf("google/protobuf/");if(D>-1){var A=B.substring(D);if(A in t)return A}return null}function q(B,D){try{if(a.isString(D)&&D.charAt(0)==="{"&&(D=JSON.parse(D)),!a.isString(D))O.setOptions(D.options).addJSON(D.nested);else{e.filename=B;var A=e(D,O,c),$,M=0;if(A.imports)for(;M<A.imports.length;++M)($=_(A.imports[M])||O.resolvePath(B,A.imports[M]))&&N($);if(A.weakImports)for(M=0;M<A.weakImports.length;++M)($=_(A.weakImports[M])||O.resolvePath(B,A.weakImports[M]))&&N($,!0)}}catch(S){m(S)}!v&&!x&&m(null,O)}function N(B,D){if(B=_(B)||B,!(O.files.indexOf(B)>-1)){if(O.files.push(B),B in t){v?q(B,t[B]):(++x,setTimeout(function(){--x,q(B,t[B])}));return}if(v){var A;try{A=a.fs.readFileSync(B).toString("utf8")}catch($){D||m($);return}q(B,A)}else++x,O.fetch(B,function($,M){if(--x,!!y){if($){D?x||m(null,O):m($);return}q(B,M)}})}}var x=0;a.isString(o)&&(o=[o]);for(var j=0,X;j<o.length;++j)(X=O.resolvePath("",o[j]))&&N(X);return v?(O.resolveAll(),O):(x||m(null,O),O)},r.prototype.loadSync=function(o,c){if(!a.isNode)throw Error("not supported");return this.load(o,c,i)},r.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(o){return"'extend "+o.extend+"' in "+o.parent.fullName}).join(", "));return d.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function n(u,o){var c=o.parent.lookup(o.extend);if(c){var y=new l(o.fullName,o.id,o.type,o.rule,void 0,o.options);return c.get(y.name)||(y.declaringField=o,o.extensionField=y,c.add(y)),!0}return!1}return r.prototype._handleAdd=function(o){if(o instanceof l)o.extend!==void 0&&!o.extensionField&&(n(this,o)||this.deferred.push(o));else if(o instanceof p)f.test(o.name)&&(o.parent[o.name]=o.values);else if(!(o instanceof h)){if(o instanceof s)for(var c=0;c<this.deferred.length;)n(this,this.deferred[c])?this.deferred.splice(c,1):++c;for(var y=0;y<o.nestedArray.length;++y)this._handleAdd(o._nestedArray[y]);f.test(o.name)&&(o.parent[o.name]=o)}(o instanceof s||o instanceof p||o instanceof l)&&(this._fullyQualifiedObjects[o.fullName]=o)},r.prototype._handleRemove=function(o){if(o instanceof l){if(o.extend!==void 0)if(o.extensionField)o.extensionField.parent.remove(o.extensionField),o.extensionField=null;else{var c=this.deferred.indexOf(o);c>-1&&this.deferred.splice(c,1)}}else if(o instanceof p)f.test(o.name)&&delete o.parent[o.name];else if(o instanceof d){for(var y=0;y<o.nestedArray.length;++y)this._handleRemove(o._nestedArray[y]);f.test(o.name)&&delete o.parent[o.name]}delete this._fullyQualifiedObjects[o.fullName]},r._configure=function(u,o,c){s=u,e=o,t=c},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util.exports;hasRequiredUtil=1;var d=util.exports=requireMinimal(),l=requireRoots(),p,h;d.codegen=requireCodegen(),d.fetch=requireFetch(),d.path=requirePath(),d.fs=d.inquire("fs"),d.toArray=function(i){if(i){for(var f=Object.keys(i),n=new Array(f.length),u=0;u<f.length;)n[u]=i[f[u++]];return n}return[]},d.toObject=function(i){for(var f={},n=0;n<i.length;){var u=i[n++],o=i[n++];o!==void 0&&(f[u]=o)}return f};var a=/\\/g,s=/"/g;d.isReserved=function(i){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(i)},d.safeProp=function(i){return!/^[$\w_]+$/.test(i)||d.isReserved(i)?'["'+i.replace(a,"\\\\").replace(s,'\\"')+'"]':"."+i},d.ucFirst=function(i){return i.charAt(0).toUpperCase()+i.substring(1)};var e=/_([a-z])/g;d.camelCase=function(i){return i.substring(0,1)+i.substring(1).replace(e,function(f,n){return n.toUpperCase()})},d.compareFieldsById=function(i,f){return i.id-f.id},d.decorateType=function(i,f){if(i.$type)return f&&i.$type.name!==f&&(d.decorateRoot.remove(i.$type),i.$type.name=f,d.decorateRoot.add(i.$type)),i.$type;p||(p=requireType());var n=new p(f||i.name);return d.decorateRoot.add(n),n.ctor=i,Object.defineProperty(i,"$type",{value:n,enumerable:!1}),Object.defineProperty(i.prototype,"$type",{value:n,enumerable:!1}),n};var t=0;return d.decorateEnum=function(i){if(i.$type)return i.$type;h||(h=require_enum());var f=new h("Enum"+t++,i);return d.decorateRoot.add(f),Object.defineProperty(i,"$type",{value:f,enumerable:!1}),f},d.setProperty=function(i,f,n,u){function o(c,y,O){var v=y.shift();if(v==="__proto__"||v==="prototype")return c;if(y.length>0)c[v]=o(c[v]||{},y,O);else{var m=c[v];if(m&&u)return c;m&&(O=[].concat(m).concat(O)),c[v]=O}return c}if(typeof i!="object")throw TypeError("dst must be an object");if(!f)throw TypeError("path must be specified");return f=f.split("."),o(i,f,n)},Object.defineProperty(d,"decorateRoot",{get:function(){return l.decorated||(l.decorated=new(requireRoot()))}}),util.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(d){var l=d,p=requireUtil(),h=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(s,e){var t=0,r={};for(e|=0;t<s.length;)r[h[t+e]]=s[t++];return r}l.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),l.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",p.emptyArray,null]),l.long=a([0,0,0,1,1],7),l.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),l.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=e;var d=requireObject();((e.prototype=Object.create(d.prototype)).constructor=e).className="Field";var l=require_enum(),p=requireTypes(),h=requireUtil(),a,s=/^required|optional|repeated$/;e.fromJSON=function(r,i){var f=new e(r,i.id,i.type,i.rule,i.extend,i.options,i.comment);return i.edition&&(f._edition=i.edition),f._defaultEdition="proto3",f};function e(t,r,i,f,n,u,o){if(h.isObject(f)?(o=n,u=f,f=n=void 0):h.isObject(n)&&(o=u,u=n,n=void 0),d.call(this,t,u),!h.isInteger(r)||r<0)throw TypeError("id must be a non-negative integer");if(!h.isString(i))throw TypeError("type must be a string");if(f!==void 0&&!s.test(f=f.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(n!==void 0&&!h.isString(n))throw TypeError("extend must be a string");f==="proto3_optional"&&(f="optional"),this.rule=f&&f!=="optional"?f:void 0,this.type=i,this.id=r,this.extend=n||void 0,this.repeated=f==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=h.Long?p.long[i]!==void 0:!1,this.bytes=i==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=o}return Object.defineProperty(e.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(e.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(e.prototype,"delimited",{get:function(){return this.resolvedType instanceof a&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(e.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(e.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),e.prototype.setOption=function(r,i,f){return d.prototype.setOption.call(this,r,i,f)},e.prototype.toJSON=function(r){var i=r?!!r.keepComments:!1;return h.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",i?this.comment:void 0])},e.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=p.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof a?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof l&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof l)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=h.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var r;h.base64.test(this.typeDefault)?h.base64.decode(this.typeDefault,r=h.newBuffer(h.base64.length(this.typeDefault)),0):h.utf8.write(this.typeDefault,r=h.newBuffer(h.utf8.length(this.typeDefault)),0),this.typeDefault=r}return this.map?this.defaultValue=h.emptyObject:this.repeated?this.defaultValue=h.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof a&&(this.parent.ctor.prototype[this.name]=this.defaultValue),d.prototype.resolve.call(this)},e.prototype._inferLegacyProtoFeatures=function(r){if(r!=="proto2"&&r!=="proto3")return{};var i={};if(this.rule==="required"&&(i.field_presence="LEGACY_REQUIRED"),this.parent&&p.defaults[this.type]===void 0){var f=this.parent.get(this.type.split(".").pop());f&&f instanceof a&&f.group&&(i.message_encoding="DELIMITED")}return this.getOption("packed")===!0?i.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(i.repeated_field_encoding="EXPANDED"),i},e.prototype._resolveFeatures=function(r){return d.prototype._resolveFeatures.call(this,this._edition||r)},e.d=function(r,i,f,n){return typeof i=="function"?i=h.decorateType(i).name:i&&typeof i=="object"&&(i=h.decorateEnum(i).name),function(o,c){h.decorateType(o.constructor).add(new e(c,r,i,f,{default:n}))}},e._configure=function(r){a=r},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=h;var d=requireObject();((h.prototype=Object.create(d.prototype)).constructor=h).className="OneOf";var l=requireField(),p=requireUtil();function h(s,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),d.call(this,s,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}h.fromJSON=function(e,t){return new h(e,t.oneof,t.options,t.comment)},h.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return p.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function a(s){if(s.parent)for(var e=0;e<s.fieldsArray.length;++e)s.fieldsArray[e].parent||s.parent.add(s.fieldsArray[e])}return h.prototype.add=function(e){if(!(e instanceof l))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},h.prototype.remove=function(e){if(!(e instanceof l))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this},h.prototype.onAdd=function(e){d.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}a(this)},h.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);d.prototype.onRemove.call(this,e)},Object.defineProperty(h.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var s=this.fieldsArray[0];return s.options!=null&&s.options.proto3_optional===!0}}),h.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,f){p.decorateType(i.constructor).add(new h(f,e)),Object.defineProperty(i,f,{get:p.oneOfGetter(e),set:p.oneOfSetter(e)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=e,e.className="ReflectionObject";const d=requireOneof();var l=requireUtil(),p,h={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},s={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function e(t,r){if(!l.isString(t))throw TypeError("name must be a string");if(r&&!l.isObject(r))throw TypeError("options must be an object");this.options=r,this.parsedOptions=null,this.name=t,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],r=this.parent;r;)t.unshift(r.name),r=r.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(r){this.parent&&this.parent!==r&&this.parent.remove(this),this.parent=r,this.resolved=!1;var i=r.root;i instanceof p&&i._handleAdd(this)},e.prototype.onRemove=function(r){var i=r.root;i instanceof p&&i._handleRemove(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved?this:(this.root instanceof p&&(this.resolved=!0),this)},e.prototype._resolveFeaturesRecursive=function(r){return this._resolveFeatures(this._edition||r)},e.prototype._resolveFeatures=function(r){if(!this._featuresResolved){var i={};if(!r)throw new Error("Unknown edition for "+this.fullName);var f=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(r));if(this._edition){if(r==="proto2")i=Object.assign({},a);else if(r==="proto3")i=Object.assign({},s);else if(r==="2023")i=Object.assign({},h);else throw new Error("Unknown edition: "+r);this._features=Object.assign(i,f||{}),this._featuresResolved=!0;return}if(this.partOf instanceof d){var n=Object.assign({},this.partOf._features);this._features=Object.assign(n,f||{})}else if(!this.declaringField)if(this.parent){var u=Object.assign({},this.parent._features);this._features=Object.assign(u,f||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},e.prototype._inferLegacyProtoFeatures=function(){return{}},e.prototype.getOption=function(r){if(this.options)return this.options[r]},e.prototype.setOption=function(r,i,f){return this.options||(this.options={}),/^features\./.test(r)?l.setProperty(this.options,r,i,f):(!f||this.options[r]===void 0)&&(this.getOption(r)!==i&&(this.resolved=!1),this.options[r]=i),this},e.prototype.setParsedOption=function(r,i,f){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(f){var u=n.find(function(y){return Object.prototype.hasOwnProperty.call(y,r)});if(u){var o=u[r];l.setProperty(o,f,i)}else u={},u[r]=l.setProperty({},f,i),n.push(u)}else{var c={};c[r]=i,n.push(c)}return this},e.prototype.setOptions=function(r,i){if(r)for(var f=Object.keys(r),n=0;n<f.length;++n)this.setOption(f[n],r[f[n]],i);return this},e.prototype.toString=function(){var r=this.constructor.className,i=this.fullName;return i.length?r+" "+i:r},e.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},e._configure=function(t){p=t},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=h;var d=requireObject();((h.prototype=Object.create(d.prototype)).constructor=h).className="Enum";var l=requireNamespace(),p=requireUtil();function h(a,s,e,t,r,i){if(d.call(this,a,e),s&&typeof s!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=t,this.comments=r||{},this.valuesOptions=i,this._valuesFeatures={},this.reserved=void 0,s)for(var f=Object.keys(s),n=0;n<f.length;++n)typeof s[f[n]]=="number"&&(this.valuesById[this.values[f[n]]=s[f[n]]]=f[n])}return h.prototype._resolveFeatures=function(s){return s=this._edition||s,d.prototype._resolveFeatures.call(this,s),Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)}),this},h.fromJSON=function(s,e){var t=new h(s,e.values,e.options,e.comment,e.comments);return t.reserved=e.reserved,e.edition&&(t._edition=e.edition),t._defaultEdition="proto3",t},h.prototype.toJSON=function(s){var e=s?!!s.keepComments:!1;return p.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},h.prototype.add=function(s,e,t,r){if(!p.isString(s))throw TypeError("name must be a string");if(!p.isInteger(e))throw TypeError("id must be an integer");if(this.values[s]!==void 0)throw Error("duplicate name '"+s+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(s))throw Error("name '"+s+"' is reserved in "+this);if(this.valuesById[e]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+e+" in "+this);this.values[s]=e}else this.valuesById[this.values[s]=e]=s;return r&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[s]=r||null),this.comments[s]=t||null,this},h.prototype.remove=function(s){if(!p.isString(s))throw TypeError("name must be a string");var e=this.values[s];if(e==null)throw Error("name '"+s+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[s],delete this.comments[s],this.valuesOptions&&delete this.valuesOptions[s],this},h.prototype.isReservedId=function(s){return l.isReservedId(this.reserved,s)},h.prototype.isReservedName=function(s){return l.isReservedName(this.reserved,s)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=a;var d=require_enum(),l=requireTypes(),p=requireUtil();function h(s,e,t,r){return e.delimited?s("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):s("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function a(s){for(var e=p.codegen(["m","w"],s.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=s.fieldsArray.slice().sort(p.compareFieldsById),t=0;t<i.length;++t){var f=i[t].resolve(),n=s._fieldsArray.indexOf(f),u=f.resolvedType instanceof d?"int32":f.type,o=l.basic[u];r="m"+p.safeProp(f.name),f.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,f.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(f.id<<3|2)>>>0,8|l.mapKey[f.keyType],f.keyType),o===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",n,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|o,u,r),e("}")("}")):f.repeated?(e("if(%s!=null&&%s.length){",r,r),f.packed&&l.packed[u]!==void 0?e("w.uint32(%i).fork()",(f.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",u,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),o===void 0?h(e,f,n,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(f.id<<3|o)>>>0,u,r)),e("}")):(f.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,f.name),o===void 0?h(e,f,n,r):e("w.uint32(%i).%s(%s)",(f.id<<3|o)>>>0,u,r))}return e("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var d=indexLight.exports=requireIndexMinimal();d.build="light";function l(h,a,s){return typeof a=="function"?(s=a,a=new d.Root):a||(a=new d.Root),a.load(h,s)}d.load=l;function p(h,a){return a||(a=new d.Root),a.loadSync(h)}return d.loadSync=p,d.encoder=requireEncoder(),d.decoder=requireDecoder(),d.verifier=requireVerifier(),d.converter=requireConverter(),d.ReflectionObject=requireObject(),d.Namespace=requireNamespace(),d.Root=requireRoot(),d.Enum=require_enum(),d.Type=requireType(),d.Field=requireField(),d.OneOf=requireOneof(),d.MapField=requireMapfield(),d.Service=requireService(),d.Method=requireMethod(),d.Message=requireMessage(),d.wrappers=requireWrappers(),d.types=requireTypes(),d.util=requireUtil(),d.ReflectionObject._configure(d.Root),d.Namespace._configure(d.Type,d.Service,d.Enum),d.Root._configure(d.Type),d.Field._configure(d.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=f;var d=/[\s{}=;:[\],'"()<>]/g,l=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,p=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,h=/^ *[*/]+ */,a=/^\s*\*?\/*/,s=/\n/g,e=/\s/,t=/\\(.?)/g,r={0:"\0",r:"\r",n:`
`,t:"	"};function i(n){return n.replace(t,function(u,o){switch(o){case"\\":case"":return o;default:return r[o]||""}})}f.unescape=i;function f(n,u){n=n.toString();var o=0,c=n.length,y=1,O=0,v={},m=[],_=null;function q(T){return Error("illegal "+T+" (line "+y+")")}function N(){var T=_==="'"?p:l;T.lastIndex=o-1;var L=T.exec(n);if(!L)throw q("string");return o=T.lastIndex,A(_),_=null,i(L[1])}function x(T){return n.charAt(T)}function j(T,L,I){var J={type:n.charAt(T++),lineEmpty:!1,leading:I},W;u?W=2:W=3;var C=T-W,V;do if(--C<0||(V=n.charAt(C))===`
`){J.lineEmpty=!0;break}while(V===" "||V==="	");for(var Z=n.substring(T,L).split(s),G=0;G<Z.length;++G)Z[G]=Z[G].replace(u?a:h,"").trim();J.text=Z.join(`
`).trim(),v[y]=J,O=y}function X(T){var L=B(T),I=n.substring(T,L),J=/^\s*\/\//.test(I);return J}function B(T){for(var L=T;L<c&&x(L)!==`
`;)L++;return L}function D(){if(m.length>0)return m.shift();if(_)return N();var T,L,I,J,W,C=o===0;do{if(o===c)return null;for(T=!1;e.test(I=x(o));)if(I===`
`&&(C=!0,++y),++o===c)return null;if(x(o)==="/"){if(++o===c)throw q("comment");if(x(o)==="/")if(u){if(J=o,W=!1,X(o-1)){W=!0;do if(o=B(o),o===c||(o++,!C))break;while(X(o))}else o=Math.min(c,B(o)+1);W&&(j(J,o,C),C=!0),y++,T=!0}else{for(W=x(J=o+1)==="/";x(++o)!==`
`;)if(o===c)return null;++o,W&&(j(J,o-1,C),C=!0),++y,T=!0}else if((I=x(o))==="*"){J=o+1,W=u||x(J)==="*";do{if(I===`
`&&++y,++o===c)throw q("comment");L=I,I=x(o)}while(L!=="*"||I!=="/");++o,W&&(j(J,o-2,C),C=!0),T=!0}else return"/"}}while(T);var V=o;d.lastIndex=0;var Z=d.test(x(V++));if(!Z)for(;V<c&&!d.test(x(V));)++V;var G=n.substring(o,o=V);return(G==='"'||G==="'")&&(_=G),G}function A(T){m.push(T)}function $(){if(!m.length){var T=D();if(T===null)return null;A(T)}return m[0]}function M(T,L){var I=$(),J=I===T;if(J)return D(),!0;if(!L)throw q("token '"+I+"', '"+T+"' expected");return!1}function S(T){var L=null,I;return T===void 0?(I=v[y-1],delete v[y-1],I&&(u||I.type==="*"||I.lineEmpty)&&(L=I.leading?I.text:null)):(O<T&&$(),I=v[T],delete v[T],I&&!I.lineEmpty&&(u||I.type==="/")&&(L=I.leading?null:I.text)),L}return Object.defineProperty({next:D,peek:$,push:A,skip:M,cmnt:S},"line",{get:function(){return y}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=N,N.filename=null,N.defaults={keepCase:!1};var d=requireTokenize(),l=requireRoot(),p=requireType(),h=requireField(),a=requireMapfield(),s=requireOneof(),e=require_enum(),t=requireService(),r=requireMethod(),i=requireObject(),f=requireTypes(),n=requireUtil(),u=/^[1-9][0-9]*$/,o=/^-?[1-9][0-9]*$/,c=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,O=/^0[0-7]+$/,v=/^-?0[0-7]+$/,m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,q=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function N(x,j,X){j instanceof l||(X=j,j=new l),X||(X=N.defaults);var B=X.preferTrailingComment||!1,D=d(x,X.alternateCommentMode||!1),A=D.next,$=D.push,M=D.peek,S=D.skip,T=D.cmnt,L=!0,I,J,W,C="proto2",V=j,Z=[],G={},se=X.keepCase?function(w){return w}:n.camelCase;function ce(){Z.forEach(w=>{w._edition=C,Object.keys(G).forEach(g=>{w.getOption(g)===void 0&&w.setOption(g,G[g],!0)})})}function F(w,g,b){var R=N.filename;return b||(N.filename=null),Error("illegal "+(g||"token")+" '"+w+"' ("+(R?R+", ":"")+"line "+D.line+")")}function te(){var w=[],g;do{if((g=A())!=='"'&&g!=="'")throw F(g);w.push(A()),S(g),g=M()}while(g==='"'||g==="'");return w.join("")}function oe(w){var g=A();switch(g){case"'":case'"':return $(g),te();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return pe(g,!0)}catch{if(q.test(g))return g;throw F(g,"value")}}function re(w,g){var b,R;do if(g&&((b=M())==='"'||b==="'")){var E=te();if(w.push(E),C>=2023)throw F(E,"id")}else try{w.push([R=ee(A()),S("to",!0)?ee(A()):R])}catch(P){if(g&&q.test(b)&&C>=2023)w.push(b);else throw P}while(S(",",!0));var k={options:void 0};k.setOption=function(P,z){this.options===void 0&&(this.options={}),this.options[P]=z},K(k,function(z){if(z==="option")Y(k,z),S(";");else throw F(z)},function(){ie(k)})}function pe(w,g){var b=1;switch(w.charAt(0)==="-"&&(b=-1,w=w.substring(1)),w){case"inf":case"INF":case"Inf":return b*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(u.test(w))return b*parseInt(w,10);if(c.test(w))return b*parseInt(w,16);if(O.test(w))return b*parseInt(w,8);if(m.test(w))return b*parseFloat(w);throw F(w,"number",g)}function ee(w,g){switch(w){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!g&&w.charAt(0)==="-")throw F(w,"id");if(o.test(w))return parseInt(w,10);if(y.test(w))return parseInt(w,16);if(v.test(w))return parseInt(w,8);throw F(w,"id")}function ye(){if(I!==void 0)throw F("package");if(I=A(),!q.test(I))throw F(I,"name");V=V.define(I),S(";")}function me(){var w=M(),g;switch(w){case"weak":g=W||(W=[]),A();break;case"public":A();default:g=J||(J=[]);break}w=te(),S(";"),g.push(w)}function ve(){if(S("="),C=te(),C<2023)throw F(C,"syntax");S(";")}function ge(){if(S("="),C=te(),!["2023"].includes(C))throw F(C,"edition");S(";")}function ue(w,g){switch(g){case"option":return Y(w,g),S(";"),!0;case"message":return le(w,g),!0;case"enum":return he(w,g),!0;case"service":return Re(w,g),!0;case"extend":return Ae(w,g),!0}return!1}function K(w,g,b){var R=D.line;if(w&&(typeof w.comment!="string"&&(w.comment=T()),w.filename=N.filename),S("{",!0)){for(var E;(E=A())!=="}";)g(E);S(";",!0)}else b&&b(),S(";"),w&&(typeof w.comment!="string"||B)&&(w.comment=T(R)||w.comment)}function le(w,g){if(!_.test(g=A()))throw F(g,"type name");var b=new p(g);K(b,function(E){if(!ue(b,E))switch(E){case"map":we(b);break;case"required":if(C!=="proto2")throw F(E);case"repeated":Q(b,E);break;case"optional":if(C==="proto3")Q(b,"proto3_optional");else{if(C!=="proto2")throw F(E);Q(b,"optional")}break;case"oneof":Oe(b,E);break;case"extensions":re(b.extensions||(b.extensions=[]));break;case"reserved":re(b.reserved||(b.reserved=[]),!0);break;default:if(C==="proto2"||!q.test(E))throw F(E);$(E),Q(b,"optional");break}}),w.add(b),w===V&&Z.push(b)}function Q(w,g,b){var R=A();if(R==="group"){_e(w,g);return}for(;R.endsWith(".")||M().startsWith(".");)R+=A();if(!q.test(R))throw F(R,"type");var E=A();if(!_.test(E))throw F(E,"name");E=se(E),S("=");var k=new h(E,ee(A()),R,g,b);if(K(k,function(H){if(H==="option")Y(k,H),S(";");else throw F(H)},function(){ie(k)}),g==="proto3_optional"){var P=new s("_"+E);k.setOption("proto3_optional",!0),P.add(k),w.add(P)}else w.add(k);w===V&&Z.push(k)}function _e(w,g){if(C>=2023)throw F("group");var b=A();if(!_.test(b))throw F(b,"name");var R=n.lcFirst(b);b===R&&(b=n.ucFirst(b)),S("=");var E=ee(A()),k=new p(b);k.group=!0;var P=new h(R,E,b,g);P.filename=N.filename,K(k,function(H){switch(H){case"option":Y(k,H),S(";");break;case"required":case"repeated":Q(k,H);break;case"optional":C==="proto3"?Q(k,"proto3_optional"):Q(k,"optional");break;case"message":le(k,H);break;case"enum":he(k,H);break;case"reserved":re(k.reserved||(k.reserved=[]),!0);break;default:throw F(H)}}),w.add(k).add(P)}function we(w){S("<");var g=A();if(f.mapKey[g]===void 0)throw F(g,"type");S(",");var b=A();if(!q.test(b))throw F(b,"type");S(">");var R=A();if(!_.test(R))throw F(R,"name");S("=");var E=new a(se(R),ee(A()),g,b);K(E,function(P){if(P==="option")Y(E,P),S(";");else throw F(P)},function(){ie(E)}),w.add(E)}function Oe(w,g){if(!_.test(g=A()))throw F(g,"name");var b=new s(se(g));K(b,function(E){E==="option"?(Y(b,E),S(";")):($(E),Q(b,"optional"))}),w.add(b)}function he(w,g){if(!_.test(g=A()))throw F(g,"name");var b=new e(g);K(b,function(E){switch(E){case"option":Y(b,E),S(";");break;case"reserved":re(b.reserved||(b.reserved=[]),!0),b.reserved===void 0&&(b.reserved=[]);break;default:be(b,E)}}),w.add(b),w===V&&Z.push(b)}function be(w,g){if(!_.test(g))throw F(g,"name");S("=");var b=ee(A(),!0),R={options:void 0};R.getOption=function(E){return this.options[E]},R.setOption=function(E,k){i.prototype.setOption.call(R,E,k)},R.setParsedOption=function(){},K(R,function(k){if(k==="option")Y(R,k),S(";");else throw F(k)},function(){ie(R)}),w.add(g,b,R.comment,R.parsedOptions||R.options)}function Y(w,g){var b,R,E=!0;for(g==="option"&&(g=A());g!=="=";){if(g==="("){var k=A();S(")"),g="("+k+")"}if(E){if(E=!1,g.includes(".")&&!g.includes("(")){var P=g.split(".");b=P[0]+".",g=P[1];continue}b=g}else R=R?R+=g:g;g=A()}var z=R?b.concat(R):b,H=de(w,z);R=R&&R[0]==="."?R.slice(1):R,b=b&&b[b.length-1]==="."?b.slice(0,-1):b,qe(w,b,H,R)}function de(w,g){if(S("{",!0)){for(var b={};!S("}",!0);){if(!_.test(U=A()))throw F(U,"name");if(U===null)throw F(U,"end of input");var R,E=U;if(S(":",!0),M()==="{")R=de(w,g+"."+U);else if(M()==="["){R=[];var k;if(S("[",!0)){do k=oe(),R.push(k);while(S(",",!0));S("]"),typeof k<"u"&&ae(w,g+"."+U,k)}}else R=oe(),ae(w,g+"."+U,R);var P=b[E];P&&(R=[].concat(P).concat(R)),b[E]=R,S(",",!0),S(";",!0)}return b}var z=oe();return ae(w,g,z),z}function ae(w,g,b){if(V===w&&/^features\./.test(g)){G[g]=b;return}w.setOption&&w.setOption(g,b)}function qe(w,g,b,R){w.setParsedOption&&w.setParsedOption(g,b,R)}function ie(w){if(S("[",!0)){do Y(w,"option");while(S(",",!0));S("]")}return w}function Re(w,g){if(!_.test(g=A()))throw F(g,"service name");var b=new t(g);K(b,function(E){if(!ue(b,E))if(E==="rpc")Ee(b,E);else throw F(E)}),w.add(b),w===V&&Z.push(b)}function Ee(w,g){var b=T(),R=g;if(!_.test(g=A()))throw F(g,"name");var E=g,k,P,z,H;if(S("("),S("stream",!0)&&(P=!0),!q.test(g=A())||(k=g,S(")"),S("returns"),S("("),S("stream",!0)&&(H=!0),!q.test(g=A())))throw F(g);z=g,S(")");var ne=new r(E,R,k,z,P,H);ne.comment=b,K(ne,function(fe){if(fe==="option")Y(ne,fe),S(";");else throw F(fe)}),w.add(ne)}function Ae(w,g){if(!q.test(g=A()))throw F(g,"reference");var b=g;K(null,function(E){switch(E){case"required":case"repeated":Q(w,E,b);break;case"optional":C==="proto3"?Q(w,"proto3_optional",b):Q(w,"optional",b);break;default:if(C==="proto2"||!q.test(E))throw F(E);$(E),Q(w,"optional",b);break}})}for(var U;(U=A())!==null;)switch(U){case"package":if(!L)throw F(U);ye();break;case"import":if(!L)throw F(U);me();break;case"syntax":if(!L)throw F(U);ve();break;case"edition":if(!L)throw F(U);ge();break;case"option":Y(V,U),S(";",!0);break;default:if(ue(V,U)){L=!1;continue}throw F(U)}return ce(),N.filename=null,{package:I,imports:J,weakImports:W,root:j}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=l;var d=/\/|\./;function l(h,a){d.test(h)||(h="google/protobuf/"+h+".proto",a={nested:{google:{nested:{protobuf:{nested:a}}}}}),l[h]=a}l("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var p;return l("duration",{Duration:p={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),l("timestamp",{Timestamp:p}),l("empty",{Empty:{fields:{}}}),l("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),l("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),l("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),l.get=function(a){return l[a]||null},common_1}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src.exports;hasRequiredSrc=1;var d=src.exports=requireIndexLight();return d.build="full",d.tokenize=requireTokenize(),d.parse=requireParse(),d.common=requireCommon(),d.Root._configure(d.Type,d.parse,d.common),src.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc()),protobufjs}export{getDefaultExportFromCjs as g,requireProtobufjs as r};
